{% extends "base.html" %}

{% block title %}{{ method.title }} - My Personal Website{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto px-8 py-16 space-y-24">
    <section class="text-center pb-12 border-b border-border-subtle">
        <h1 class="text-6xl lg:text-7xl font-sans font-bold text-text-primary mb-8 leading-none tracking-tight">
            {{ method.title }}
        </h1>
        {% if method.subtitle %}
            <p class="text-2xl text-text-secondary italic mb-12 max-w-2xl mx-auto leading-relaxed">
                {{ method.subtitle }}
            </p>
        {% endif %}
    </section>

    <section class="article-prose">
        {{ method.hero_html|safe }}
    </section>

    {% if method.chapters %}
    <section class="space-y-16">
        <h2 class="text-4xl font-sans font-semibold text-text-primary text-center tracking-tight">The Method</h2>

        {% for chapter in method.chapters %}
        <div class="pb-12 border-b border-border-subtle last:border-b-0">
            <div class="text-sm text-text-light font-sans tracking-[0.28em] uppercase mb-2">Chapter {{ chapter.number }}</div>
            <h3 class="text-3xl font-sans font-semibold text-text-primary mb-6 tracking-tight">{{ chapter.title }}</h3>
            {% if chapter.rendered %}
            <div class="article-prose mb-10">
                {{ chapter.rendered|safe }}
            </div>
            {% endif %}
            {% if chapter.articles %}
            <ul class="space-y-5">
                {% for article in chapter.articles %}
                <li class="flex items-baseline pb-5 border-b border-border-subtle/60 last:border-b-0 leading-relaxed">
                    <div class="flex-1 mr-4">
                        <a href="{{ article.url }}" class="font-medium text-text-primary hover:text-text-secondary transition-colors block mb-1 no-underline">{{ article.title }}</a>
                        {% if article.excerpt %}
                            <div class="text-sm text-text-secondary leading-snug">{{ article.excerpt }}</div>
                        {% endif %}
                    </div>
                    {% if article.reading_time %}
                        <em class="text-sm text-text-light">({{ article.reading_time }})</em>
                    {% endif %}
                </li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>
        {% endfor %}
    </section>
    {% endif %}

    {% if method.guiding_html %}
    <section class="article-prose space-y-10">
        {% if method.guiding_title %}
            <h2>{{ method.guiding_title }}</h2>
        {% endif %}
        {{ method.guiding_html|safe }}
    </section>
    {% endif %}
</div>
{% endblock %}
